id: monerod
title: "Monero"
version: 0.17.3
release-notes: Initial release of Monero for EmbassyOS!!
license: modified-bipcot
wrapper-repo: https://github.com/kn0wmad/monerod-wrapper
upstream-repo: https://github.com/monero-project/monero
support-site: https://github.com/monero-project/monero
marketing-site: https://getmonero.org
build: ["make"]
# min-os-version: "0.3.0"
description:
  short: A Monero Full Node
  long: Monero is a private, secure, untraceable, decentralised digital currency. You are your bank, you control your funds, and nobody can trace your transfers unless you allow them to do so.  This is a headless server, used via a Monero wallet of your choice over Tor.
assets:
  license: LICENSE.md
  icon: icon.png
  instructions: docs/instructions.md
  docker-images: image.tar
main:
  type: docker
  image: main
  entrypoint: "docker_entrypoint.sh"
  args: []
  mounts:
    main: /root/.bitmonero
    compat: /mnt/assets
  io-format: yaml
health-checks: {}
  # rpc:
  #   type: docker
  #   image: main
  #   system: false
  #   entrypoint: monero-wallet-cli
  #   args:
  #     - "-status"
  #   mounts:
  #     main: /root/.bitmonero
  #   io-format: yaml
  #   critical: false
config:
  get:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - config
      - get
      - /root/.bitmonero
      - "/mnt/assets/config_spec.yaml"
    mounts:
      compat: /mnt/assets
      main: /root/.bitmonero
    io-format: yaml
  set:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - config
      - set
      - monerod
      - /root/.bitmonero
      - "/mnt/assets/config_rules.yaml"
    mounts:
      compat: /mnt/assets
      main: "/root/.bitmonero"
    io-format: yaml
dependencies: {}
volumes:
  main:
    type: data
  compat:
    type: assets
interfaces:
  rpc:
    name: RPC Interface
    description: Listens for JSON-RPC commands
    tor-config:
      port-mapping:
        18081: "18081"
    lan-config:
      18081:
        ssl: true
        internal: 18081
    ui: false
    protocols:
      - tcp
      - http
      - json-rpc
  peer:
    name: Peer Interface
    description: Listens for incoming connections from peers on the monero network
    tor-config:
      port-mapping:
        18080: "18080"
    ui: false
    protocols:
      - tcp
      - monero
  # zmq:
  #   name: ZeroMQ Interface
  #   description: Listens for subscriptions to the ZeroMQ raw block and raw transaction event streams
  #   tor-config:
  #     port-mapping:
  #       28332: "28332"
  #       28333: "28333"
  #   ui: false
  #   protocols:
  #     - tcp
  #     - zmq
alerts:
  uninstall: Uninstalling Monero will result in permanent loss of data. Without a backup, any funds stored on your node's default hot wallet will be lost forever. If you are unsure, we recommend making a backup, just to be safe.
  restore: Restoring Monero will overwrite its current data. You will lose any transactions recorded in watch-only wallets, and any funds you have received to the hot wallet, since the last backup.
backup:
  create:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - duplicity
      - create
      - monerod
      - /mnt/backup
      - /root/.bitmonero
      - "--exclude /root/.bitmonero/chainstate"
      - "--exclude /root/.bitmonero/blocks"
    mounts:
      BACKUP: /mnt/backup
      main: /root/.bitmonero
  restore:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - duplicity
      - restore
      - /mnt/backup
      - /root/.bitmonero
    mounts:
      BACKUP: /mnt/backup
      main: /root/.bitmonero
actions: {}
properties:
  type: docker
  image: compat
  system: true
  entrypoint: compat
  args:
    - properties
    - /root/.bitmonero
  mounts:
    main: /root/.bitmonero
  io-format: yaml
#   reindex:
#     name: "Reindex Blockchain"
#     description: "Rebuilds the block and chainstate databases starting from genesis."
#     warning: Blocks not stored on disk will be redownloaded in order to rebuild the database.
#     allowed-statuses:
#       - running
#       - stopped
#     implementation:
#       type: docker
#       image: main
#       system: false
#       entrypoint: reindex.sh
#       args: []
#       mounts:
#         main: /root/.bitmonero
